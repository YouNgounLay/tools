let currentMode="focus";document.addEventListener("DOMContentLoaded",function(){const f=document.getElementById("setting-btn"),t=document.getElementById("settings-modal"),j=document.getElementById("close-settings-btn"),b=document.getElementById("save-settings-btn"),g=document.getElementById("focus-time"),h=document.getElementById("break-time"),m=document.getElementById("long-break-time");let c=25*60,l=10*60,d=15*60,u=0,e;f.addEventListener("click",function(){t.style.display="flex"}),j.addEventListener("click",function(){t.style.display="none"}),b.addEventListener("click",function(){c=parseInt(g.value)*60,l=parseInt(h.value)*60,d=parseInt(m.value)*60,t.style.display="none",r()}),window.addEventListener("click",function(e){e.target===t&&(t.style.display="none")});const o=document.getElementById("timer-display"),s=document.getElementById("timer-title"),n=document.getElementById("timer-btn");n.addEventListener("click",function(){e?(clearInterval(e),e=null,n.textContent="Start"):(p(),n.textContent="Pause")});function p(){let t=a();e=setInterval(function(){if(t<=0){clearInterval(e),e=null,v();return}t--,o.textContent=i(t)},1e3)}function a(){switch(currentMode){case"focus":return c;case"shortBreak":return l;case"longBreak":return d}}function v(){currentMode==="focus"?(u++,u%3===0?(currentMode="longBreak",s.textContent="Long Break"):(currentMode="shortBreak",s.textContent="Break Time")):(currentMode="focus",s.textContent="Focus Time"),o.textContent=i(a()),n.textContent="Start"}function i(e){const t=Math.floor(e/60),n=e%60;return`${t.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`}function r(){o.textContent=i(a()),s.textContent=currentMode==="focus"?"Focus Time":currentMode==="shortBreak"?"Break Time":"Long Break"}r()}),document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("home-btn");e.addEventListener("click",function(){window.location.href="/tools"})}),document.addEventListener("DOMContentLoaded",function(){const c=document.getElementById("home-btn"),f=document.getElementById("video-btn"),o=document.getElementById("video-container"),m=document.getElementById("timer-btn");let e="JdqL89ZZwFw",t="MYPVQccHhAQ";const a=document.getElementById("focus-video-url"),n=document.getElementById("break-video-url"),r=document.getElementById("set-focus-video"),l=document.getElementById("set-break-video");c.addEventListener("click",function(){window.location.href="/"}),f.addEventListener("click",function(){o.style.display=o.style.display==="block"?"none":"block",i()}),r.addEventListener("click",function(){s("focus",a.value)}),l.addEventListener("click",function(){s("break",n.value)}),m.addEventListener("click",function(){d(),u()});function d(){console.log("Timer started")}function u(){const e=document.getElementById("current-video");e.src=`https://www.youtube.com/embed/${h()}`}function h(){return currentMode==="focus"?e:currentMode==="break"?t:""}function i(){document.getElementById("focus-video").src=`https://www.youtube.com/embed/${e}`,document.getElementById("break-video").src=`https://www.youtube.com/embed/${t}`,a.value=`https://www.youtube.com/watch?v=${e}`,n.value=`https://www.youtube.com/watch?v=${t}`}function s(n,s){const o=p(s);n==="focus"?e=o:n==="break"&&(t=o),i()}function p(e){let t="";const n=e.match(/[?&]v=([^?&]+)/);return n&&(t=n[1]),t}})