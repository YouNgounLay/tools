document.addEventListener("DOMContentLoaded",function(){const m=document.getElementById("setting-btn"),n=document.getElementById("settings-modal"),y=document.getElementById("close-settings-btn"),b=document.getElementById("save-settings-btn"),g=document.getElementById("focus-time"),p=document.getElementById("break-time"),f=document.getElementById("long-break-time");let u=25*60,d=10*60,l=15*60,c=0,t,e="focus";m.addEventListener("click",function(){n.style.display="flex"}),y.addEventListener("click",function(){n.style.display="none"}),b.addEventListener("click",function(){u=parseInt(g.value)*60,d=parseInt(p.value)*60,l=parseInt(f.value)*60,n.style.display="none",h()}),window.addEventListener("click",function(e){e.target===n&&(n.style.display="none")});const r=document.getElementById("timer-display"),o=document.getElementById("timer-title"),s=document.getElementById("timer-btn");s.addEventListener("click",function(){t?(clearInterval(t),t=null,s.textContent="Start"):(v(),s.textContent="Pause")});function v(){let e=a();t=setInterval(function(){if(e<=0){clearInterval(t),t=null,j();return}e--,r.textContent=i(e)},1e3)}function a(){switch(e){case"focus":return u;case"shortBreak":return d;case"longBreak":return l}}function j(){e==="focus"?(c++,c%3===0?(e="longBreak",o.textContent="Long Break"):(e="shortBreak",o.textContent="Break Time")):(e="focus",o.textContent="Focus Time"),r.textContent=i(a()),s.textContent="Start"}function i(e){const t=Math.floor(e/60),n=e%60;return`${t.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`}function h(){r.textContent=i(a()),o.textContent=e==="focus"?"Focus Time":e==="shortBreak"?"Break Time":"Long Break"}h()}),document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("home-btn");e.addEventListener("click",function(){window.location.href="/tools"})}),document.addEventListener("DOMContentLoaded",function(){const c=document.getElementById("home-btn"),f=document.getElementById("video-btn"),o=document.getElementById("video-container"),m=document.getElementById("timer-btn");let e="JdqL89ZZwFw",t="MYPVQccHhAQ";const a=document.getElementById("focus-video-url"),n=document.getElementById("break-video-url"),r=document.getElementById("set-focus-video"),l=document.getElementById("set-break-video");c.addEventListener("click",function(){window.location.href="/"}),f.addEventListener("click",function(){o.style.display=o.style.display==="block"?"none":"block",i()}),r.addEventListener("click",function(){s("focus",a.value)}),l.addEventListener("click",function(){s("break",n.value)}),m.addEventListener("click",function(){d(),u()});function d(){console.log("Timer started")}function u(){const e=document.getElementById("current-video");e.src=`https://www.youtube.com/embed/${h()}`}function h(){return currentMode==="focus"?e:currentMode==="break"?t:""}function i(){document.getElementById("focus-video").src=`https://www.youtube.com/embed/${e}`,document.getElementById("break-video").src=`https://www.youtube.com/embed/${t}`,a.value=`https://www.youtube.com/watch?v=${e}`,n.value=`https://www.youtube.com/watch?v=${t}`}function s(n,s){const o=p(s);n==="focus"?e=o:n==="break"&&(t=o),i()}function p(e){let t="";const n=e.match(/[?&]v=([^?&]+)/);return n&&(t=n[1]),t}})